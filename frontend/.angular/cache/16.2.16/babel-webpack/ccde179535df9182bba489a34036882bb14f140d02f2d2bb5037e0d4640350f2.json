{"ast":null,"code":"import { Subject, takeUntil, debounceTime, distinctUntilChanged } from 'rxjs';\nimport { Prioridade, Status } from '../../models/incident.model';\nimport { FormUtils } from '../../utils/form.utils';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/incident.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nfunction IncidentListComponent_option_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 36);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const status_r8 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", status_r8);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", status_r8, \" \");\n  }\n}\nfunction IncidentListComponent_option_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 36);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const prioridade_r9 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", prioridade_r9);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", prioridade_r9, \" \");\n  }\n}\nfunction IncidentListComponent_div_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.error, \" \");\n  }\n}\nfunction IncidentListComponent_tr_79_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 54);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"slice\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const incident_r10 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind3(2, 2, incident_r10.descricao, 0, 100), \"\", incident_r10.descricao.length > 100 ? \"...\" : \"\", \" \");\n  }\n}\nfunction IncidentListComponent_tr_79_div_16_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 57);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tag_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", tag_r16, \" \");\n  }\n}\nfunction IncidentListComponent_tr_79_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 55);\n    i0.ɵɵtemplate(1, IncidentListComponent_tr_79_div_16_span_1_Template, 2, 1, \"span\", 56);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const incident_r10 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", incident_r10.tags);\n  }\n}\nfunction IncidentListComponent_tr_79_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 58);\n    i0.ɵɵtext(1, \" Sem tags \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction IncidentListComponent_tr_79_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 38)(1, \"td\", 39)(2, \"a\", 40);\n    i0.ɵɵlistener(\"click\", function IncidentListComponent_tr_79_Template_a_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const incident_r10 = restoredCtx.$implicit;\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.viewIncident(incident_r10));\n    });\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, IncidentListComponent_tr_79_div_4_Template, 3, 6, \"div\", 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"span\", 42);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"td\")(9, \"span\", 43);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"td\", 44);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 45);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 46);\n    i0.ɵɵtemplate(16, IncidentListComponent_tr_79_div_16_Template, 2, 1, \"div\", 47);\n    i0.ɵɵtemplate(17, IncidentListComponent_tr_79_span_17_Template, 2, 0, \"span\", 48);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\", 49)(19, \"div\", 50)(20, \"button\", 51);\n    i0.ɵɵlistener(\"click\", function IncidentListComponent_tr_79_Template_button_click_20_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const incident_r10 = restoredCtx.$implicit;\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.viewIncident(incident_r10));\n    });\n    i0.ɵɵtext(21, \" \\uD83D\\uDC41\\uFE0F \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"button\", 52);\n    i0.ɵɵlistener(\"click\", function IncidentListComponent_tr_79_Template_button_click_22_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const incident_r10 = restoredCtx.$implicit;\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.editIncident(incident_r10));\n    });\n    i0.ɵɵtext(23, \" \\u270F\\uFE0F \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"button\", 53);\n    i0.ɵɵlistener(\"click\", function IncidentListComponent_tr_79_Template_button_click_24_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const incident_r10 = restoredCtx.$implicit;\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.deleteIncident(incident_r10));\n    });\n    i0.ɵɵtext(25, \" \\uD83D\\uDDD1\\uFE0F \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const incident_r10 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", incident_r10.titulo, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", incident_r10.descricao);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(ctx_r3.getStatusClass(incident_r10.status));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", incident_r10.status, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(ctx_r3.getPriorityClass(incident_r10.prioridade));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", incident_r10.prioridade, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", incident_r10.responsavelEmail, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.formatDate(incident_r10.dataAbertura), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", incident_r10.tags && incident_r10.tags.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !incident_r10.tags || incident_r10.tags.length === 0);\n  }\n}\nfunction IncidentListComponent_div_80_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 59);\n    i0.ɵɵelement(1, \"div\", 60);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Carregando incidentes...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction IncidentListComponent_div_81_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 61)(1, \"p\");\n    i0.ɵɵtext(2, \"Nenhum incidente encontrado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function IncidentListComponent_div_81_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.createIncident());\n    });\n    i0.ɵɵtext(4, \" Criar primeiro incidente \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction IncidentListComponent_div_82_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 75);\n    i0.ɵɵlistener(\"click\", function IncidentListComponent_div_82_button_8_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r28);\n      const page_r26 = restoredCtx.$implicit;\n      const ctx_r27 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r27.onPageChange(page_r26));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const page_r26 = ctx.$implicit;\n    const ctx_r25 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"active\", page_r26 === ctx_r25.currentPage);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", page_r26 + 1, \" \");\n  }\n}\nfunction IncidentListComponent_div_82_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 62)(1, \"div\", 63)(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 64)(5, \"button\", 65);\n    i0.ɵɵlistener(\"click\", function IncidentListComponent_div_82_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.onPageChange(ctx_r29.currentPage - 1));\n    });\n    i0.ɵɵtext(6, \" Anterior \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 66);\n    i0.ɵɵtemplate(8, IncidentListComponent_div_82_button_8_Template, 2, 3, \"button\", 67);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 65);\n    i0.ɵɵlistener(\"click\", function IncidentListComponent_div_82_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.onPageChange(ctx_r31.currentPage + 1));\n    });\n    i0.ɵɵtext(10, \" Pr\\u00F3ximo \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 68)(12, \"label\", 69);\n    i0.ɵɵtext(13, \"Itens por p\\u00E1gina:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"select\", 70);\n    i0.ɵɵlistener(\"change\", function IncidentListComponent_div_82_Template_select_change_14_listener($event) {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r32 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r32.onPageSizeChange(+$event.target.value));\n    });\n    i0.ɵɵelementStart(15, \"option\", 71);\n    i0.ɵɵtext(16, \"5\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"option\", 72);\n    i0.ɵɵtext(18, \"10\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"option\", 73);\n    i0.ɵɵtext(20, \"20\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"option\", 74);\n    i0.ɵɵtext(22, \"50\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate3(\" Mostrando \", ctx_r6.currentPage * ctx_r6.pageSize + 1, \" a \", ctx_r6.Math.min((ctx_r6.currentPage + 1) * ctx_r6.pageSize, ctx_r6.totalElements), \" de \", ctx_r6.totalElements, \" incidentes \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r6.currentPage === 0);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r6.getPageNumbers());\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r6.currentPage === ctx_r6.totalPages - 1);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"value\", ctx_r6.pageSize);\n  }\n}\nfunction IncidentListComponent_div_83_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 60);\n  }\n}\nfunction IncidentListComponent_div_83_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 76);\n    i0.ɵɵlistener(\"click\", function IncidentListComponent_div_83_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.cancelDelete());\n    });\n    i0.ɵɵelementStart(1, \"div\", 77);\n    i0.ɵɵlistener(\"click\", function IncidentListComponent_div_83_Template_div_click_1_listener($event) {\n      return $event.stopPropagation();\n    });\n    i0.ɵɵelementStart(2, \"div\", 78)(3, \"h3\");\n    i0.ɵɵtext(4, \"Confirmar Exclus\\u00E3o\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 79)(6, \"p\");\n    i0.ɵɵtext(7, \"Tem certeza que deseja excluir o incidente \");\n    i0.ɵɵelementStart(8, \"strong\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\", 80);\n    i0.ɵɵtext(12, \"Esta a\\u00E7\\u00E3o n\\u00E3o pode ser desfeita e tamb\\u00E9m excluir\\u00E1 todos os coment\\u00E1rios associados.\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 81)(14, \"button\", 82);\n    i0.ɵɵlistener(\"click\", function IncidentListComponent_div_83_Template_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r37 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r37.cancelDelete());\n    });\n    i0.ɵɵtext(15, \" Cancelar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"button\", 83);\n    i0.ɵɵlistener(\"click\", function IncidentListComponent_div_83_Template_button_click_16_listener() {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r38 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r38.confirmDelete());\n    });\n    i0.ɵɵtemplate(17, IncidentListComponent_div_83_span_17_Template, 1, 0, \"span\", 84);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate1(\"\\\"\", ctx_r7.incidentToDelete == null ? null : ctx_r7.incidentToDelete.titulo, \"\\\"\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"disabled\", ctx_r7.loading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.loading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r7.loading ? \"Excluindo...\" : \"Excluir\", \" \");\n  }\n}\nexport let IncidentListComponent = /*#__PURE__*/(() => {\n  class IncidentListComponent {\n    constructor(incidentService, router, fb) {\n      this.incidentService = incidentService;\n      this.router = router;\n      this.fb = fb;\n      this.incidents = [];\n      this.loading = false;\n      this.error = '';\n      // Paginação\n      this.currentPage = 0;\n      this.pageSize = 10;\n      this.totalElements = 0;\n      this.totalPages = 0;\n      this.filterSubject = new Subject();\n      this.destroy$ = new Subject();\n      // Estatísticas\n      this.stats = {\n        total: 0,\n        abertos: 0,\n        emAndamento: 0,\n        resolvidos: 0,\n        cancelados: 0\n      };\n      this.prioridades = Object.values(Prioridade);\n      this.statuses = Object.values(Status);\n      // Modal de confirmação\n      this.showDeleteModal = false;\n      this.incidentToDelete = null;\n      // Adicionar Math para uso no template\n      this.Math = Math;\n      this.filterForm = this.createFilterForm();\n    }\n    ngOnInit() {\n      this.setupFilterSubscription();\n      this.loadIncidents();\n      this.loadStats();\n    }\n    ngOnDestroy() {\n      this.destroy$.next();\n      this.destroy$.complete();\n    }\n    createFilterForm() {\n      return this.fb.group({\n        status: [''],\n        prioridade: [''],\n        q: [''],\n        tags: ['']\n      });\n    }\n    setupFilterSubscription() {\n      this.filterSubject.pipe(takeUntil(this.destroy$), debounceTime(500), distinctUntilChanged()).subscribe(() => {\n        this.currentPage = 0;\n        this.loadIncidents();\n      });\n      // Observar mudanças nos filtros\n      this.filterForm.valueChanges.pipe(takeUntil(this.destroy$)).subscribe(() => {\n        this.filterSubject.next();\n      });\n    }\n    loadIncidents() {\n      this.loading = true;\n      this.error = '';\n      const queryParams = FormUtils.buildQueryParams({\n        page: this.currentPage,\n        size: this.pageSize,\n        ...this.filterForm.value\n      });\n      this.incidentService.getIncidents(queryParams).subscribe({\n        next: page => {\n          this.incidents = page.content;\n          this.totalElements = page.totalElements;\n          this.totalPages = page.totalPages;\n          this.currentPage = page.number;\n          this.loading = false;\n        },\n        error: err => {\n          this.error = 'Erro ao carregar incidentes';\n          this.loading = false;\n        }\n      });\n    }\n    loadStats() {\n      this.incidentService.getStats().subscribe({\n        next: stats => {\n          this.stats = stats;\n        },\n        error: err => {\n          console.error('Erro ao carregar estatísticas:', err);\n        }\n      });\n    }\n    onPageChange(page) {\n      this.currentPage = page;\n      this.loadIncidents();\n    }\n    onPageSizeChange(size) {\n      this.pageSize = size;\n      this.currentPage = 0;\n      this.loadIncidents();\n    }\n    clearFilters() {\n      this.filterForm.reset();\n      this.currentPage = 0;\n      this.loadIncidents();\n    }\n    createIncident() {\n      this.router.navigate(['/incidents/new']);\n    }\n    editIncident(incident) {\n      this.router.navigate(['/incidents', incident.id, 'edit']);\n    }\n    viewIncident(incident) {\n      this.router.navigate(['/incidents', incident.id]);\n    }\n    deleteIncident(incident) {\n      this.incidentToDelete = incident;\n      this.showDeleteModal = true;\n    }\n    confirmDelete() {\n      if (this.incidentToDelete) {\n        this.loading = true;\n        this.incidentService.deleteIncident(this.incidentToDelete.id).subscribe({\n          next: () => {\n            this.loadIncidents();\n            this.loadStats();\n            this.showDeleteModal = false;\n            this.incidentToDelete = null;\n            this.loading = false;\n          },\n          error: err => {\n            this.error = 'Erro ao excluir incidente';\n            this.loading = false;\n          }\n        });\n      }\n    }\n    cancelDelete() {\n      this.showDeleteModal = false;\n      this.incidentToDelete = null;\n    }\n    getPriorityClass(prioridade) {\n      switch (prioridade) {\n        case Prioridade.ALTA:\n          return 'priority-high';\n        case Prioridade.MEDIA:\n          return 'priority-medium';\n        case Prioridade.BAIXA:\n          return 'priority-low';\n        default:\n          return '';\n      }\n    }\n    getStatusClass(status) {\n      switch (status) {\n        case Status.ABERTA:\n          return 'status-open';\n        case Status.EM_ANDAMENTO:\n          return 'status-in-progress';\n        case Status.RESOLVIDA:\n          return 'status-resolved';\n        case Status.CANCELADA:\n          return 'status-cancelled';\n        default:\n          return '';\n      }\n    }\n    formatDate(date) {\n      return FormUtils.formatDate(date);\n    }\n    getPageNumbers() {\n      const pages = [];\n      const start = Math.max(0, this.currentPage - 2);\n      const end = Math.min(this.totalPages - 1, this.currentPage + 2);\n      for (let i = start; i <= end; i++) {\n        pages.push(i);\n      }\n      return pages;\n    }\n    static {\n      this.ɵfac = function IncidentListComponent_Factory(t) {\n        return new (t || IncidentListComponent)(i0.ɵɵdirectiveInject(i1.IncidentService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.FormBuilder));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: IncidentListComponent,\n        selectors: [[\"app-incident-list\"]],\n        decls: 84,\n        vars: 14,\n        consts: [[1, \"incident-list-container\"], [1, \"stats-header\"], [1, \"stats-grid\"], [1, \"stat-card\"], [1, \"stat-number\"], [1, \"stat-label\"], [1, \"stat-card\", \"status-open\"], [1, \"stat-card\", \"status-in-progress\"], [1, \"stat-card\", \"status-resolved\"], [1, \"stat-card\", \"status-cancelled\"], [1, \"filters-section\"], [1, \"filters-form\", 3, \"formGroup\"], [1, \"filters-row\"], [1, \"filter-group\"], [\"for\", \"status-filter\"], [\"id\", \"status-filter\", \"formControlName\", \"status\", 1, \"filter-control\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"prioridade-filter\"], [\"id\", \"prioridade-filter\", \"formControlName\", \"prioridade\", 1, \"filter-control\"], [\"for\", \"search-filter\"], [\"type\", \"text\", \"id\", \"search-filter\", \"formControlName\", \"q\", \"placeholder\", \"Buscar por t\\u00EDtulo ou descri\\u00E7\\u00E3o...\", 1, \"filter-control\"], [\"for\", \"tags-filter\"], [\"type\", \"text\", \"id\", \"tags-filter\", \"formControlName\", \"tags\", \"placeholder\", \"Filtrar por tags...\", 1, \"filter-control\"], [1, \"filters-actions\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"actions-section\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [\"class\", \"alert alert-error\", 4, \"ngIf\"], [1, \"table-container\"], [1, \"incidents-table\"], [\"class\", \"incident-row\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"loading-state\", 4, \"ngIf\"], [\"class\", \"empty-state\", 4, \"ngIf\"], [\"class\", \"pagination-section\", 4, \"ngIf\"], [\"class\", \"modal-overlay\", 3, \"click\", 4, \"ngIf\"], [3, \"value\"], [1, \"alert\", \"alert-error\"], [1, \"incident-row\"], [1, \"incident-title\"], [1, \"title-link\", 3, \"click\"], [\"class\", \"incident-description\", 4, \"ngIf\"], [1, \"status-badge\"], [1, \"priority-badge\"], [1, \"responsible-email\"], [1, \"date-column\"], [1, \"tags-column\"], [\"class\", \"tags-list\", 4, \"ngIf\"], [\"class\", \"no-tags\", 4, \"ngIf\"], [1, \"actions-column\"], [1, \"action-buttons\"], [\"title\", \"Visualizar\", 1, \"btn-icon\", \"btn-view\", 3, \"click\"], [\"title\", \"Editar\", 1, \"btn-icon\", \"btn-edit\", 3, \"click\"], [\"title\", \"Excluir\", 1, \"btn-icon\", \"btn-delete\", 3, \"click\"], [1, \"incident-description\"], [1, \"tags-list\"], [\"class\", \"tag\", 4, \"ngFor\", \"ngForOf\"], [1, \"tag\"], [1, \"no-tags\"], [1, \"loading-state\"], [1, \"loading-spinner\"], [1, \"empty-state\"], [1, \"pagination-section\"], [1, \"pagination-info\"], [1, \"pagination-controls\"], [1, \"btn\", \"btn-secondary\", 3, \"disabled\", \"click\"], [1, \"page-numbers\"], [\"class\", \"page-number\", 3, \"active\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"page-size-control\"], [\"for\", \"page-size\"], [\"id\", \"page-size\", 1, \"page-size-select\", 3, \"value\", \"change\"], [\"value\", \"5\"], [\"value\", \"10\"], [\"value\", \"20\"], [\"value\", \"50\"], [1, \"page-number\", 3, \"click\"], [1, \"modal-overlay\", 3, \"click\"], [1, \"modal-content\", 3, \"click\"], [1, \"modal-header\"], [1, \"modal-body\"], [1, \"warning-text\"], [1, \"modal-actions\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"btn\", \"btn-danger\", 3, \"disabled\", \"click\"], [\"class\", \"loading-spinner\", 4, \"ngIf\"]],\n        template: function IncidentListComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4);\n            i0.ɵɵtext(5);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"div\", 5);\n            i0.ɵɵtext(7, \"Total\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(8, \"div\", 6)(9, \"div\", 4);\n            i0.ɵɵtext(10);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(11, \"div\", 5);\n            i0.ɵɵtext(12, \"Abertos\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(13, \"div\", 7)(14, \"div\", 4);\n            i0.ɵɵtext(15);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(16, \"div\", 5);\n            i0.ɵɵtext(17, \"Em Andamento\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(18, \"div\", 8)(19, \"div\", 4);\n            i0.ɵɵtext(20);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(21, \"div\", 5);\n            i0.ɵɵtext(22, \"Resolvidos\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(23, \"div\", 9)(24, \"div\", 4);\n            i0.ɵɵtext(25);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(26, \"div\", 5);\n            i0.ɵɵtext(27, \"Cancelados\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(28, \"div\", 10)(29, \"form\", 11)(30, \"div\", 12)(31, \"div\", 13)(32, \"label\", 14);\n            i0.ɵɵtext(33, \"Status\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(34, \"select\", 15)(35, \"option\", 16);\n            i0.ɵɵtext(36, \"Todos os status\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(37, IncidentListComponent_option_37_Template, 2, 2, \"option\", 17);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(38, \"div\", 13)(39, \"label\", 18);\n            i0.ɵɵtext(40, \"Prioridade\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(41, \"select\", 19)(42, \"option\", 16);\n            i0.ɵɵtext(43, \"Todas as prioridades\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(44, IncidentListComponent_option_44_Template, 2, 2, \"option\", 17);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(45, \"div\", 13)(46, \"label\", 20);\n            i0.ɵɵtext(47, \"Busca\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(48, \"input\", 21);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(49, \"div\", 13)(50, \"label\", 22);\n            i0.ɵɵtext(51, \"Tags\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(52, \"input\", 23);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(53, \"div\", 24)(54, \"button\", 25);\n            i0.ɵɵlistener(\"click\", function IncidentListComponent_Template_button_click_54_listener() {\n              return ctx.clearFilters();\n            });\n            i0.ɵɵtext(55, \" Limpar Filtros \");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(56, \"div\", 26)(57, \"button\", 27);\n            i0.ɵɵlistener(\"click\", function IncidentListComponent_Template_button_click_57_listener() {\n              return ctx.createIncident();\n            });\n            i0.ɵɵtext(58, \" + Novo Incidente \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(59, IncidentListComponent_div_59_Template, 2, 1, \"div\", 28);\n            i0.ɵɵelementStart(60, \"div\", 29)(61, \"table\", 30)(62, \"thead\")(63, \"tr\")(64, \"th\");\n            i0.ɵɵtext(65, \"T\\u00EDtulo\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(66, \"th\");\n            i0.ɵɵtext(67, \"Status\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(68, \"th\");\n            i0.ɵɵtext(69, \"Prioridade\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(70, \"th\");\n            i0.ɵɵtext(71, \"Respons\\u00E1vel\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(72, \"th\");\n            i0.ɵɵtext(73, \"Data Abertura\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(74, \"th\");\n            i0.ɵɵtext(75, \"Tags\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(76, \"th\");\n            i0.ɵɵtext(77, \"A\\u00E7\\u00F5es\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(78, \"tbody\");\n            i0.ɵɵtemplate(79, IncidentListComponent_tr_79_Template, 26, 12, \"tr\", 31);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(80, IncidentListComponent_div_80_Template, 4, 0, \"div\", 32);\n            i0.ɵɵtemplate(81, IncidentListComponent_div_81_Template, 5, 0, \"div\", 33);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(82, IncidentListComponent_div_82_Template, 23, 7, \"div\", 34);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(83, IncidentListComponent_div_83_Template, 19, 4, \"div\", 35);\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(5);\n            i0.ɵɵtextInterpolate(ctx.stats.total);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtextInterpolate(ctx.stats.abertos);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtextInterpolate(ctx.stats.emAndamento);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtextInterpolate(ctx.stats.resolvidos);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtextInterpolate(ctx.stats.cancelados);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"formGroup\", ctx.filterForm);\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngForOf\", ctx.statuses);\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"ngForOf\", ctx.prioridades);\n            i0.ɵɵadvance(15);\n            i0.ɵɵproperty(\"ngIf\", ctx.error);\n            i0.ɵɵadvance(20);\n            i0.ɵɵproperty(\"ngForOf\", ctx.incidents);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.incidents.length === 0);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.totalPages > 1);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.showDeleteModal);\n          }\n        },\n        dependencies: [i4.NgForOf, i4.NgIf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName, i4.SlicePipe],\n        styles: [\".incident-list-container[_ngcontent-%COMP%]{padding:2rem;max-width:1400px;margin:0 auto}.stats-header[_ngcontent-%COMP%]{margin-bottom:2rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.stat-card[_ngcontent-%COMP%]{background:white;padding:1.5rem;border-radius:12px;box-shadow:0 2px 10px #0000001a;text-align:center;transition:transform .3s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.stat-number[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#333;margin-bottom:.5rem}.stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#666;text-transform:uppercase;letter-spacing:.5px}.status-open[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{color:#e74c3c}.status-in-progress[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{color:#f39c12}.status-resolved[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{color:#27ae60}.status-cancelled[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{color:#95a5a6}.filters-section[_ngcontent-%COMP%]{background:white;padding:1.5rem;border-radius:12px;box-shadow:0 2px 10px #0000001a;margin-bottom:2rem}.filters-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.filters-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:.5rem;font-size:.9rem}.filter-control[_ngcontent-%COMP%]{padding:.75rem;border:2px solid #e1e5e9;border-radius:8px;font-size:1rem;transition:all .3s ease;background:#fafbfc}.filter-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;background:white;box-shadow:0 0 0 3px #667eea1a}.filters-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.actions-section[_ngcontent-%COMP%]{margin-bottom:2rem;display:flex;justify-content:flex-end}.table-container[_ngcontent-%COMP%]{background:white;border-radius:12px;box-shadow:0 2px 10px #0000001a;overflow:hidden;margin-bottom:2rem}.incidents-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.incidents-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;padding:1rem;text-align:left;font-weight:600;color:#333;border-bottom:2px solid #e9ecef;font-size:.9rem;text-transform:uppercase;letter-spacing:.5px}.incidents-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #f1f3f4;vertical-align:top}.incident-row[_ngcontent-%COMP%]:hover{background:#f8f9fa}.incident-title[_ngcontent-%COMP%]{max-width:300px}.title-link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600;cursor:pointer;transition:color .3s}.title-link[_ngcontent-%COMP%]:hover{color:#5a6fd8;text-decoration:underline}.incident-description[_ngcontent-%COMP%]{color:#666;font-size:.875rem;margin-top:.5rem;line-height:1.4}.status-badge[_ngcontent-%COMP%], .priority-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:20px;font-size:.8rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.status-open[_ngcontent-%COMP%]{background:#fdf2f2;color:#e74c3c}.status-in-progress[_ngcontent-%COMP%]{background:#fef3c7;color:#f39c12}.status-resolved[_ngcontent-%COMP%]{background:#f0fdf4;color:#27ae60}.status-cancelled[_ngcontent-%COMP%]{background:#f1f5f9;color:#95a5a6}.priority-high[_ngcontent-%COMP%]{background:#fdf2f2;color:#e74c3c}.priority-medium[_ngcontent-%COMP%]{background:#fef3c7;color:#f39c12}.priority-low[_ngcontent-%COMP%]{background:#f0fdf4;color:#27ae60}.responsible-email[_ngcontent-%COMP%]{font-family:monospace;font-size:.9rem;color:#666}.date-column[_ngcontent-%COMP%]{font-size:.9rem;color:#666;white-space:nowrap}.tags-column[_ngcontent-%COMP%]{max-width:200px}.tags-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.25rem}.tag[_ngcontent-%COMP%]{background:#e9ecef;color:#495057;padding:.25rem .5rem;border-radius:12px;font-size:.75rem;font-weight:500}.no-tags[_ngcontent-%COMP%]{color:#adb5bd;font-style:italic;font-size:.875rem}.actions-column[_ngcontent-%COMP%]{width:120px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center}.btn-icon[_ngcontent-%COMP%]{background:none;border:none;padding:.5rem;border-radius:6px;cursor:pointer;transition:all .3s ease;font-size:1.2rem}.btn-icon[_ngcontent-%COMP%]:hover{background:#f8f9fa;transform:scale(1.1)}.btn-view[_ngcontent-%COMP%]:hover{background:#e3f2fd}.btn-edit[_ngcontent-%COMP%]:hover{background:#fff3e0}.btn-delete[_ngcontent-%COMP%]:hover{background:#ffebee}.loading-state[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{padding:3rem;text-align:center;color:#666}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.pagination-section[_ngcontent-%COMP%]{background:white;padding:1.5rem;border-radius:12px;box-shadow:0 2px 10px #0000001a;display:flex;flex-direction:column;gap:1rem}.pagination-info[_ngcontent-%COMP%]{text-align:center;color:#666;font-size:.9rem}.pagination-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem}.page-numbers[_ngcontent-%COMP%]{display:flex;gap:.5rem}.page-number[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid #e1e5e9;background:white;color:#333;border-radius:6px;cursor:pointer;transition:all .3s ease;min-width:40px}.page-number[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#667eea}.page-number.active[_ngcontent-%COMP%]{background:#667eea;color:#fff;border-color:#667eea}.page-size-control[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;justify-content:center;font-size:.9rem;color:#666}.page-size-select[_ngcontent-%COMP%]{padding:.25rem .5rem;border:1px solid #e1e5e9;border-radius:4px;background:white}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:white;border-radius:12px;padding:2rem;max-width:500px;width:90%;box-shadow:0 10px 30px #0000004d}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:#333}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 1rem;color:#666;line-height:1.5}.warning-text[_ngcontent-%COMP%]{color:#e74c3c!important;font-weight:500}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;margin-top:2rem}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:inline-flex;align-items:center;gap:.5rem}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 15px #667eea66}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#5a6268}.btn-danger[_ngcontent-%COMP%]{background:#e74c3c;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){background:#c0392b}.alert[_ngcontent-%COMP%]{padding:1rem;border-radius:8px;font-weight:500;margin:1rem 0}.alert-error[_ngcontent-%COMP%]{background:#fdf2f2;color:#e74c3c;border:1px solid #fecaca}@media (max-width: 768px){.incident-list-container[_ngcontent-%COMP%]{padding:1rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.filters-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.incidents-table[_ngcontent-%COMP%]{font-size:.875rem}.incidents-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .incidents-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem .5rem}.action-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:.25rem}.pagination-controls[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.page-size-control[_ngcontent-%COMP%]{flex-direction:column}}\"]\n      });\n    }\n  }\n  return IncidentListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}